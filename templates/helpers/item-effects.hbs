<div class="tab effects" data-group="primary" data-tab="effects">
	{{! -- Permanent Effects Description --}}
	{{#if (or isNarrator (and system.Effects.PermanentEffectDescription.value (not (or (eq system.Effects.PermanentEffectDescription.value null) (eq system.Effects.PermanentEffectDescription.value 0) (eq system.Effects.PermanentEffectDescription.value "None")))))}}
		<div class="resource-label">
			<h3>{{system.Effects.PermanentEffectDescription.label}}</h3>
		</div>
		{{#if (and isNarrator homebrewFeatures)}}
			<div class="layout-editor">
				{{editor system.Effects.PermanentEffectDescription.value target="system.Effects.PermanentEffectDescription.value" button=true editable=true}}
			</div>
		{{else}}
			<div class="layout-editor">
				{{editor system.Effects.PermanentEffectDescription.value target="system.Effects.PermanentEffectDescription.value" button=false editable=false}}
			</div>
		{{/if}}
		<hr />
	{{/if}}
	{{! -- Effect Description --}}
	{{#if (or isNarrator (and system.Effects.EffectDescription.value (not (or (eq system.Effects.EffectDescription.value null) (eq system.Effects.EffectDescription.value 0) (eq system.Effects.EffectDescription.value "None")))))}}
		<div class="resource-label">
			<h3>{{system.Effects.EffectDescription.label}}</h3>
		</div>
		{{#if (and isNarrator homebrewFeatures)}}
			<div class="layout-editor">
				{{editor system.Effects.EffectDescription.value target="system.Effects.EffectDescription.value" button=true editable=true}}
			</div>
		{{else}}
			<div class="layout-editor">
				{{editor system.Effects.EffectDescription.value target="system.Effects.EffectDescription.value" button=false editable=false}}
			</div>
		{{/if}}
		<hr />
	{{/if}}
	{{! -- VS --}}
	{{#if (or isNarrator (and system.Effects.VSStatRoll.value (not (or (eq system.Effects.VSStatRoll.value null) (eq system.Effects.VSStatRoll.value 0) (eq system.Effects.VSStatRoll.value "None")))))}}
		<label class="resource-label"
			data-tooltip="Which Stat is rolled against (VS) this">{{{system.Effects.VSStatRoll.label}}}:</label>
		{{#if isNarrator}}
			<select name="system.Effects.VSStatRoll.value">
				{{#each system.Effects.VSStatRoll.options as |option|}}
					<option value="{{option}}"
						{{#if (eq option ../system.Effects.VSStatRoll.value)}}selected{{/if}}>
						{{option}}
					</option>
				{{/each}}
			</select>
		{{else}}
			{{system.Effects.VSStatRoll.value}}
		{{/if}}
		<hr />
	{{/if}}
	{{! -- Effect Damage --}}
	{{#each system.Effects.Damage}}
		{{#if (or ../isNarrator (or (and this.Base (not (or (eq this.Base null) (eq this.Base 0)))) (and this.Dice (not (or (eq this.Dice null) (eq this.Dice 0))))))}}
			<div class="resource-label">{{{this.label}}}:
				<span class="resource">
					{{#if ../isNarrator}}
						<input type="{{this.type}}" name="system.Effects.Damage.{{@key}}.Dice"
							value="{{this.Dice}}" data-dtype="{{this.dtype}}" />d10
						+ <input type="{{this.type}}" name="system.Effects.Damage.{{@key}}.Base"
							value="{{this.Base}}" data-dtype="{{this.dtype}}" />
						Base
					{{else}}
						{{#if (and this.Dice (not (or (eq this.Dice null) (eq this.Dice 0))))}}
							{{this.Dice}}d10
						{{/if}}
						{{#if (and this.Base (not (or (eq this.Dice null) (eq this.Dice 0))))}}
							+ {{/if}}
						{{#if (and this.Base (not (or (eq this.Base null) (eq this.Base 0))))}}
							{{this.Base}} Base
						{{/if}}
					{{/if}}
				</span>
			</div>
		{{/if}}
	{{/each}}
	<hr />
	{{! -- Effect Healing --}}
	{{#if (or isNarrator (or (and system.Effects.Healing.Base (not (or (eq system.Effects.Healing.Base null) (eq system.Effects.Healing.Base 0)))) (and system.Effects.Healing.Dice (not (or (eq system.Effects.Healing.Dice null) (eq system.Effects.Healing.Dice 0))))))}}
		<div class="resource">
			<label class="resource-label">{{{system.Effects.Healing.label}}}:</label>
			<span class="resource">
				{{#if isNarrator}}
					<input type="{{system.Effects.Healing.type}}" name="system.Effects.Healing.Dice"
						value="{{system.Effects.Healing.Dice}}"
						data-dtype="{{system.Effects.Healing.dtype}}" />d10
					+ <input type="{{system.Effects.Healing.type}}"
						name="system.Effects.Healing.Base"
						value="{{system.Effects.Healing.Base}}"
						data-dtype="{{system.Effects.Healing.dtype}}" /> Base
				{{else}}
					{{#if (and system.Effects.Healing.Dice (not (or (eq system.Effects.Healing.Dice null) (eq system.Effects.Healing.Dice 0))))}}
						{{system.Effects.Healing.Dice}}d10
					{{/if}}
					{{#if (and system.Effects.Healing.Base (not (or (eq system.Effects.Healing.Dice null) (eq system.Effects.Healing.Dice 0))))}}
						+ {{/if}}
					{{#if (and system.Effects.Healing.Base (not (or (eq system.Effects.Healing.Base null) (eq system.Effects.Healing.Base 0))))}}
						{{system.Effects.Healing.Base}} Base
					{{/if}}
				{{/if}}
			</span>
		</div>
		<hr />
	{{/if}}
	{{! -- Effect Special --}}
	{{#if (or isNarrator (and system.Effects.Special.SpecialDiceName.value (not (or (eq system.Effects.Special.SpecialDiceName.value null) (eq system.Effects.Special.SpecialDiceName.value 0) (eq system.Effects.Special.SpecialDiceName.value "None")))))}}
		<div class="resource">
			<label class="resource-label">{{{system.Effects.Special.label}}}:</label>
			{{#if isNarrator}}
				<span>
					{{system.Effects.Special.SpecialDiceName.label}}:</label>
				</span>
				<input type="{{system.Effects.Special.SpecialDiceName.type}}"
					name="system.Effects.Special.SpecialDiceName.value"
					value="{{system.Effects.Special.SpecialDiceName.value}}"
					data-dtype="{{system.Effects.Special.SpecialDiceName.dtype}}" />
				<input type="{{system.Effects.Special.type}}" name="system.Effects.Special.Base"
					value="{{system.Effects.Special.Base}}"
					data-dtype="{{system.Effects.Special.dtype}}" />
				Base +
				<input type="{{system.Effects.Special.type}}" name="system.Effects.Special.Dice"
					value="{{system.Effects.Special.Dice}}"
					data-dtype="{{system.Effects.Special.dtype}}" />d10
				<input type="checkbox" name="system.Effects.Special.isHalf"
					value="{{system.Effects.Special.isHalf}}"
					{{#if system.Effects.Special.isHalf}}checked{{/if}} data-dtype="Boolean" />
				d10/2
			{{else}}
				{{system.Effects.Special.SpecialDiceName.value}}:
				<span class="resource">
					{{#if (and system.Effects.Special.Dice (not (or (eq system.Effects.Special.Dice null) (eq system.Effects.Special.Dice 0))))}}
						{{system.Effects.Special.Dice}}
						{{#if system.Effects.Special.isHalf}}
							d10/2
						{{else}}
							d10
						{{/if}}
					{{/if}}
					{{#if (and system.Effects.Special.Base (not (or (eq system.Effects.Special.Dice null) (eq system.Effects.Special.Dice 0))))}}
						+
					{{/if}}
					{{#if (and system.Effects.Special.Base (not (or (eq system.Effects.Special.Base null) (eq system.Effects.Special.Base 0))))}}
						{{system.Effects.Special.Base}} Base
					{{/if}}
				</span>
			{{/if}}
		</div>
		<hr />
	{{/if}}
	{{! -- Effect Buffs --}}
	<div class="resource">
		{{#each system.Effects.Buffs}}
			{{#if (or ../isNarrator (and this.value (not (or (eq this.value null) (eq this.value 0) (eq this.value "None")))))}}
				<div class="resource">
					<label class="resource-label">{{{this.label}}}:</label>
					{{#if ../isNarrator}}
						<input type="{{this.type}}" name="system.Effects.Buffs.{{@key}}.value"
							value="{{this.value}}" data-dtype="{{this.dtype}}" />
					{{else}}
						{{this.value}}
					{{/if}}
				</div>
			{{/if}}
		{{/each}}
		<hr />
	</div>
	{{! -- Effect Conditions --}}
	<div class="resource">
		{{#each system.Effects.Conditions}}
			{{#if (or ../isNarrator (and this.value (not (or (eq this.value null) (eq this.value 0) (eq this.value "None")))))}}
				<div class="resource">
					<label class="resource-label">{{{this.label}}}:</label>
					{{#if ../isNarrator}}
						<input type="{{this.type}}"
							name="system.Effects.Conditions.{{@key}}.value"
							value="{{this.value}}" data-dtype="{{this.dtype}}" />
					{{else}}
						{{this.value}}
					{{/if}}
				</div>
			{{/if}}
		{{/each}}
		<hr />
	</div>
	{{! -- Effect Additional Info --}}
	{{#if (or isNarrator (and system.Effects.AdditionalInfo.value (not (or (eq system.Effects.AdditionalInfo.value null) (eq system.Effects.AdditionalInfo.value 0) (eq system.Effects.AdditionalInfo.value "None")))))}}
		<div>
			<h3>{{{system.Effects.AdditionalInfo.label}}}</h3>
		</div>
		{{#if (and isNarrator homebrewFeatures)}}
			<div class="layout-editor">
				{{editor system.Effects.AdditionalInfo.value target="system.Effects.AdditionalInfo.value" button=true editable=true}}
			</div>
		{{else}}
			<div class="layout-editor">
				{{editor system.Effects.AdditionalInfo.value target="system.Effects.AdditionalInfo.value" button=false editable=false}}
			</div>
		{{/if}}
		<hr />
	{{/if}}
	<div>
		<h3>Active Effects</h3>
		{{#if betaTesting}}
			<div>
				<br>
				{{> "systems/metanthropes/templates/helpers/active-effects.hbs"}}
			</div>
		{{else}}
			<div class="resource-label" style="text-align:center">- Item Active Effects are not fully
				supported
				yet -<br>
			</div>
			<br>
			<p class="style-centered-paragraph">
					<br>- This is a
					placeholder for future capabilities -<br><br>Additional
					functionality is available, during Early Access, via the Beta Testing Feature,<br>
					available with the <a href="https://www.metanthropes.com/store/product/8-homebrew-fvtt-module/">Metanthropes: Homebrew</a> Premium Module for Foundry VTT.
					<br><br> If you would like to know more about upcoming releases, visit <a
						href="https://www.metanthropes.com/roadmap/">the
						roadmap on our
						website.</a>
				</p>
		{{/if}}
	</div>
</div><br>